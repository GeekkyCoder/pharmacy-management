import{$ as x,W as w,J as j,O as b,b as U,M as a,T as N,V as k,a4 as E,a1 as S,a5 as A,aX as m,a7 as l,aY as h,U as p,aZ as L,a_ as P,a9 as u}from"./index-znB1vN3e.js";const s=[];for(let e=0;e<256;++e)s.push((e+256).toString(16).slice(1));function R(e,n=0){return(s[e[n+0]]+s[e[n+1]]+s[e[n+2]]+s[e[n+3]]+"-"+s[e[n+4]]+s[e[n+5]]+"-"+s[e[n+6]]+s[e[n+7]]+"-"+s[e[n+8]]+s[e[n+9]]+"-"+s[e[n+10]]+s[e[n+11]]+s[e[n+12]]+s[e[n+13]]+s[e[n+14]]+s[e[n+15]]).toLowerCase()}let c;const D=new Uint8Array(16);function I(){if(!c){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");c=crypto.getRandomValues.bind(crypto)}return c(D)}const _=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),g={randomUUID:_};function C(e,n,o){var t;if(g.randomUUID&&!e)return g.randomUUID();e=e||{};const r=e.random??((t=e.rng)==null?void 0:t.call(e))??I();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,R(r)}const{Title:y}=N,V=S().shape({username:u().required("Username is required"),password:u().required("Password is required")}),F=({role:e,onSwitch:n,onSubmit:o})=>a.jsx(E,{initialValues:{username:"",password:""},validationSchema:V,onSubmit:o,children:({handleChange:r,handleBlur:t,values:d})=>a.jsxs(A,{children:[a.jsxs(y,{level:3,className:"login-title",children:[e," Login"]}),a.jsx(m,{name:"username",children:()=>a.jsx(l,{name:"username",placeholder:"Username",onChange:r,onBlur:t,value:d.username,className:"login-input"})}),a.jsx(h,{name:"username",component:"div",className:"error"}),a.jsx(m,{name:"password",children:()=>a.jsx(l.Password,{name:"password",placeholder:"Password",onChange:r,onBlur:t,value:d.password,className:"login-input"})}),a.jsx(h,{name:"password",component:"div",className:"error"}),a.jsx(p,{type:"primary",htmlType:"submit",block:!0,className:"login-button",children:"Submit"}),a.jsxs(p,{type:"link",onClick:n,block:!0,children:["Click here for ",e==="Admin"?"Employee":"Admin"," Login"]})]})}),T=e=>{const n=j(),o=b(),[r,t]=U.useState("Admin"),d=async i=>{switch(e.setLoading(!0),r){case"Admin":await n(P({A_ID:C(),A_Username:i==null?void 0:i.username,A_Password:i==null?void 0:i.password}));break;case"Employee":await n(L({E_Username:i==null?void 0:i.username,E_Password:i==null?void 0:i.password}));break}e.setLoading(!1),o("/")};return a.jsxs("div",{className:"login-wrapper",children:[a.jsxs("div",{className:"login-header",children:[a.jsx(y,{className:"main-title",children:"Rashid Pharmacy"}),a.jsx("p",{className:"sub-title",children:"Pharmacy Management System"})]}),a.jsx("div",{className:"login-center-card",children:a.jsx(k,{className:"login-card",children:a.jsx(F,{role:r,onSwitSubmitch:()=>t(r==="Admin"?"Employee":"Admin"),onSubmit:d})})}),a.jsxs("div",{className:"login-footer",children:["developed by ",a.jsx("a",{style:{color:"white"},target:"_blank",href:"https://github.com/GeekkyCoder",children:"Faraz"})," "]})]})},M=x(w(T));export{M as default};
