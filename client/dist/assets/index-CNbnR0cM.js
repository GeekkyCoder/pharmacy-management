import{g as K,m as se,ab as re,ac as le,r as ie,ad as ce,ae as de,af as pe,b as s,C as H,c as N,ag as me,q as U,ah as G,X as ue,x as ge,d as fe,n as ye,ai as Y,aj as ve,ak as xe,U as F,al as be,am as Ce,Z,$ as he,W as Oe,L as Pe,O as Ne,M as h,T as Se}from"./index-DG3p3Wrs.js";import{F as we}from"./Table-Ny8rxMYY.js";import{A as Ee}from"./ActionButton-C2Saps2z.js";import"./index-C1MpP-Ec.js";import"./Pagination-Dmi1AS1R.js";const S=e=>e?typeof e=="function"?e():e:null,je=e=>{const{componentCls:n,popoverColor:o,titleMinWidth:t,fontWeightStrong:a,innerPadding:r,boxShadowSecondary:m,colorTextHeading:i,borderRadiusLG:c,zIndexPopup:u,titleMarginBottom:d,colorBgElevated:g,popoverBg:l,titleBorderBottom:f,innerContentPadding:v,titlePadding:p}=e;return[{[n]:Object.assign(Object.assign({},ie(e)),{position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:u,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":g,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${n}-content`]:{position:"relative"},[`${n}-inner`]:{backgroundColor:l,backgroundClip:"padding-box",borderRadius:c,boxShadow:m,padding:r},[`${n}-title`]:{minWidth:t,marginBottom:d,color:i,fontWeight:a,borderBottom:f,padding:p},[`${n}-inner-content`]:{color:o,padding:v}})},le(e,"var(--antd-arrow-background-color)"),{[`${n}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block",[`${n}-content`]:{display:"inline-block"}}}]},$e=e=>{const{componentCls:n}=e;return{[n]:ce.map(o=>{const t=e[`${o}6`];return{[`&${n}-${o}`]:{"--antd-arrow-background-color":t,[`${n}-inner`]:{backgroundColor:t},[`${n}-arrow`]:{background:"transparent"}}}})}},_e=e=>{const{lineWidth:n,controlHeight:o,fontHeight:t,padding:a,wireframe:r,zIndexPopupBase:m,borderRadiusLG:i,marginXS:c,lineType:u,colorSplit:d,paddingSM:g}=e,l=o-t,f=l/2,v=l/2-n,p=a;return Object.assign(Object.assign(Object.assign({titleMinWidth:177,zIndexPopup:m+30},de(e)),pe({contentRadius:i,limitVerticalRadius:!0})),{innerPadding:r?0:12,titleMarginBottom:r?0:c,titlePadding:r?`${f}px ${p}px ${v}px`:0,titleBorderBottom:r?`${n}px ${u} ${d}`:"none",innerContentPadding:r?`${g}px ${p}px`:0})},J=K("Popover",e=>{const{colorBgElevated:n,colorText:o}=e,t=se(e,{popoverBg:n,popoverColor:o});return[je(t),$e(t),re(t,"zoom-big")]},_e,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]});var Te=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const Q=e=>{let{title:n,content:o,prefixCls:t}=e;return!n&&!o?null:s.createElement(s.Fragment,null,n&&s.createElement("div",{className:`${t}-title`},n),o&&s.createElement("div",{className:`${t}-inner-content`},o))},ke=e=>{const{hashId:n,prefixCls:o,className:t,style:a,placement:r="top",title:m,content:i,children:c}=e,u=S(m),d=S(i),g=N(n,o,`${o}-pure`,`${o}-placement-${r}`,t);return s.createElement("div",{className:g,style:a},s.createElement("div",{className:`${o}-arrow`}),s.createElement(me,Object.assign({},e,{className:n,prefixCls:o}),c||s.createElement(Q,{prefixCls:o,title:u,content:d})))},ee=e=>{const{prefixCls:n,className:o}=e,t=Te(e,["prefixCls","className"]),{getPrefixCls:a}=s.useContext(H),r=a("popover",n),[m,i,c]=J(r);return m(s.createElement(ke,Object.assign({},t,{prefixCls:r,hashId:i,className:N(o,c)})))};var Ie=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const Be=s.forwardRef((e,n)=>{var o,t;const{prefixCls:a,title:r,content:m,overlayClassName:i,placement:c="top",trigger:u="hover",children:d,mouseEnterDelay:g=.1,mouseLeaveDelay:l=.1,onOpenChange:f,overlayStyle:v={},styles:p,classNames:y}=e,O=Ie(e,["prefixCls","title","content","overlayClassName","placement","trigger","children","mouseEnterDelay","mouseLeaveDelay","onOpenChange","overlayStyle","styles","classNames"]),{getPrefixCls:P,className:W,style:_,classNames:w,styles:T}=U("popover"),E=P("popover",a),[j,z,D]=J(E),L=P(),R=N(i,z,D,W,w.root,y==null?void 0:y.root),$=N(w.body,y==null?void 0:y.body),[V,A]=G(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),k=(C,B)=>{A(C,!0),f==null||f(C,B)},x=C=>{C.keyCode===ye.ESC&&k(!1,C)},b=C=>{k(C)},I=S(r),X=S(m);return j(s.createElement(ue,Object.assign({placement:c,trigger:u,mouseEnterDelay:g,mouseLeaveDelay:l},O,{prefixCls:E,classNames:{root:R,body:$},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},T.root),_),v),p==null?void 0:p.root),body:Object.assign(Object.assign({},T.body),p==null?void 0:p.body)},ref:n,open:V,onOpenChange:b,overlay:I||X?s.createElement(Q,{prefixCls:E,title:I,content:X}):null,transitionName:ge(L,"zoom-big",O.transitionName),"data-popover-inject":!0}),fe(d,{onKeyDown:C=>{var B,M;s.isValidElement(d)&&((M=d==null?void 0:(B=d.props).onKeyDown)===null||M===void 0||M.call(B,C)),x(C)}})))}),te=Be;te._InternalPanelDoNotUseOrYouWillBeFired=ee;const We=e=>{const{componentCls:n,iconCls:o,antCls:t,zIndexPopup:a,colorText:r,colorWarning:m,marginXXS:i,marginXS:c,fontSize:u,fontWeightStrong:d,colorTextHeading:g}=e;return{[n]:{zIndex:a,[`&${t}-popover`]:{fontSize:u},[`${n}-message`]:{marginBottom:c,display:"flex",flexWrap:"nowrap",alignItems:"start",[`> ${n}-message-icon ${o}`]:{color:m,fontSize:u,lineHeight:1,marginInlineEnd:c},[`${n}-title`]:{fontWeight:d,color:g,"&:only-child":{fontWeight:"normal"}},[`${n}-description`]:{marginTop:i,color:r}},[`${n}-buttons`]:{textAlign:"end",whiteSpace:"nowrap",button:{marginInlineStart:c}}}}},ze=e=>{const{zIndexPopupBase:n}=e;return{zIndexPopup:n+60}},ne=K("Popconfirm",e=>We(e),ze,{resetStyle:!1});var De=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const oe=e=>{const{prefixCls:n,okButtonProps:o,cancelButtonProps:t,title:a,description:r,cancelText:m,okText:i,okType:c="primary",icon:u=s.createElement(Y,null),showCancel:d=!0,close:g,onConfirm:l,onCancel:f,onPopupClick:v}=e,{getPrefixCls:p}=s.useContext(H),[y]=ve("Popconfirm",xe.Popconfirm),O=S(a),P=S(r);return s.createElement("div",{className:`${n}-inner-content`,onClick:v},s.createElement("div",{className:`${n}-message`},u&&s.createElement("span",{className:`${n}-message-icon`},u),s.createElement("div",{className:`${n}-message-text`},O&&s.createElement("div",{className:`${n}-title`},O),P&&s.createElement("div",{className:`${n}-description`},P))),s.createElement("div",{className:`${n}-buttons`},d&&s.createElement(F,Object.assign({onClick:f,size:"small"},t),m||(y==null?void 0:y.cancelText)),s.createElement(Ee,{buttonProps:Object.assign(Object.assign({size:"small"},be(c)),o),actionFn:l,close:g,prefixCls:p("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},i||(y==null?void 0:y.okText))))},Le=e=>{const{prefixCls:n,placement:o,className:t,style:a}=e,r=De(e,["prefixCls","placement","className","style"]),{getPrefixCls:m}=s.useContext(H),i=m("popconfirm",n),[c]=ne(i);return c(s.createElement(ee,{placement:o,className:N(i,t),style:a,content:s.createElement(oe,Object.assign({prefixCls:i},r))}))};var Re=function(e,n){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(o[t[a]]=e[t[a]]);return o};const Ve=s.forwardRef((e,n)=>{var o,t;const{prefixCls:a,placement:r="top",trigger:m="click",okType:i="primary",icon:c=s.createElement(Y,null),children:u,overlayClassName:d,onOpenChange:g,onVisibleChange:l,overlayStyle:f,styles:v,classNames:p}=e,y=Re(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName","onOpenChange","onVisibleChange","overlayStyle","styles","classNames"]),{getPrefixCls:O,className:P,style:W,classNames:_,styles:w}=U("popconfirm"),[T,E]=G(!1,{value:(o=e.open)!==null&&o!==void 0?o:e.visible,defaultValue:(t=e.defaultOpen)!==null&&t!==void 0?t:e.defaultVisible}),j=(x,b)=>{E(x,!0),l==null||l(x),g==null||g(x,b)},z=x=>{j(!1,x)},D=x=>{var b;return(b=e.onConfirm)===null||b===void 0?void 0:b.call(void 0,x)},L=x=>{var b;j(!1,x),(b=e.onCancel)===null||b===void 0||b.call(void 0,x)},R=(x,b)=>{const{disabled:I=!1}=e;I||j(x,b)},$=O("popconfirm",a),V=N($,P,d,_.root,p==null?void 0:p.root),A=N(_.body,p==null?void 0:p.body),[k]=ne($);return k(s.createElement(te,Object.assign({},Ce(y,["title"]),{trigger:m,placement:r,onOpenChange:R,open:T,ref:n,classNames:{root:V,body:A},styles:{root:Object.assign(Object.assign(Object.assign(Object.assign({},w.root),W),f),v==null?void 0:v.root),body:Object.assign(Object.assign({},w.body),v==null?void 0:v.body)},content:s.createElement(oe,Object.assign({okType:i,icon:c},e,{prefixCls:$,close:z,onConfirm:D,onCancel:L})),"data-popover-inject":!0}),u))}),ae=Ve;ae._InternalPanelDoNotUseOrYouWillBeFired=Le;const q=async(e,n,o)=>{try{const t=await Z.get(`employee/getEmployees/${e}`),{data:{data:a},request:r}=t;if(r.status!==200)throw new Error(r.statusText);return a&&Array.isArray(a)&&n(a),!0}catch(t){return console.log("err",t),o(t==null?void 0:t.message),!1}},Ae=async(e,n,o)=>{try{const t=await Z.delete(`employee/deleteEmployee/${e}`);if(t.status!==200)throw new Error(t.statusText);const{message:a}=t==null?void 0:t.data;return n(a),!0}catch(t){return o(t==null?void 0:t.message),!1}},{Title:Me}=Se,Fe=e=>{const n=Pe(l=>l.auth.user),o=Ne(),[t,a]=s.useState([]),r=l=>{e.success(l)},m=l=>{e.error(l)},i=async l=>{await Ae(l,r,m)&&(e.setLoading(!0),await q(n==null?void 0:n._id,u,d),e.setLoading(!1))},c=async l=>{try{o(`/update-employee/${l}`)}catch(f){console.log(f)}},u=l=>{a(l)},d=l=>{e.error(JSON.stringify(l))},g=[{title:"First Name",dataIndex:"E_Fname"},{title:"Last Name",dataIndex:"E_Lname"},{title:"Phone Number",dataIndex:"E_Phno"},,{title:"Actions",render:(l,f)=>h.jsxs("div",{style:{display:"flex",gap:"10px"},children:[h.jsx(F,{type:"primary",onClick:()=>c(f._id),style:{flex:1},children:"Edit"}),h.jsx(ae,{title:"Sure to delete?",onConfirm:()=>i(f._id),children:h.jsx(F,{type:"dashed",style:{flex:1,backgroundColor:"red",color:"white"},children:"Delete"})})]})}];return s.useEffect(()=>{(async()=>(e.setLoading(!0),await q(n==null?void 0:n._id,u,d),e.setLoading(!1)))()},[]),h.jsx("div",{style:{padding:"30px 50px"},children:h.jsxs("div",{style:{background:"#f1f1f1",padding:"30px 40px",borderRadius:"8px",maxWidth:1e3,margin:"0 auto"},children:[h.jsx(Me,{level:3,style:{textAlign:"center",background:"#e0e0e0",padding:"10px",color:"#0a3a66",textTransform:"uppercase",borderRadius:"4px"},children:"Manage Employees"}),h.jsx(we,{columns:g,dataSource:t,loading:e.loading,style:{marginTop:"30px"},pagination:{pageSize:5}})]})})},Ge=he(Oe(Fe));export{Ge as default};
