import{W as y,V as v,O as e,U as f,$ as b,Z as N,X as C,a5 as q,a6 as A,a7 as z,aE as c,ae as o,aF as d,a3 as E,ac as m}from"./index-7GMsSKZT.js";const{Title:w,Text:u}=f,F=A().shape({userName:m().min(2,"Username must be at least 2 characters").max(50,"Username must be less than 50 characters").required("Username is required"),email:m().email("Invalid email format").required("Email is required"),password:m().min(6,"Password must be at least 6 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number").required("Password is required")}),P=({onSubmit:a,loading:r})=>(C(),e.jsx(q,{initialValues:{userName:"",email:"",password:""},validationSchema:F,onSubmit:a,children:({handleChange:n,handleBlur:i,values:t,isSubmitting:l})=>e.jsxs(z,{children:[e.jsx(w,{level:3,className:"signup-title",children:"Create New Admin Account"}),e.jsx(u,{className:"signup-subtitle",children:"Only administrators can create new admin accounts"}),e.jsxs("div",{className:"form-field",children:[e.jsx(c,{name:"userName",children:()=>e.jsx(o,{name:"userName",type:"text",placeholder:"Enter username",onChange:n,onBlur:i,value:t.userName,className:"signup-input",size:"large"})}),e.jsx(d,{name:"userName",component:"div",className:"error"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx(c,{name:"email",children:()=>e.jsx(o,{name:"email",type:"email",placeholder:"Enter email address",onChange:n,onBlur:i,value:t.email,className:"signup-input",size:"large"})}),e.jsx(d,{name:"email",component:"div",className:"error"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx(c,{name:"password",children:()=>e.jsx(o.Password,{name:"password",placeholder:"Enter password",onChange:n,onBlur:i,value:t.password,className:"signup-input",size:"large"})}),e.jsx(d,{name:"password",component:"div",className:"error"})]}),e.jsx("div",{className:"password-requirements",children:e.jsxs(u,{type:"secondary",className:"requirements-text",children:["Password requirements:",e.jsxs("ul",{children:[e.jsx("li",{children:"At least 6 characters long"}),e.jsx("li",{children:"Contains uppercase and lowercase letters"}),e.jsx("li",{children:"Contains at least one number"})]})]})}),e.jsx(N,{type:"primary",htmlType:"submit",block:!0,className:"signup-button",size:"large",loading:r||l,disabled:r||l,children:r||l?"Creating Account...":"Create Admin Account"})]})})),S=a=>{const r=async(i,{setSubmitting:t,resetForm:l})=>{var p,h,x,g;a.setLoading(!0);try{const s={...i,role:"admin"};(await E.post("/user/signup",s)).data&&(a.success("Admin account created successfully!"),l())}catch(s){console.error("Signup error:",s);const j=((h=(p=s==null?void 0:s.response)==null?void 0:p.data)==null?void 0:h.message)||((g=(x=s==null?void 0:s.response)==null?void 0:x.data)==null?void 0:g.msg)||"Failed to create admin account";a.error(j)}finally{a.setLoading(!1),t(!1)}},n=()=>{navigate(-1)};return e.jsxs("div",{className:"signup-wrapper",children:[e.jsxs("div",{className:"signup-header",children:[e.jsx(w,{className:"main-title",children:"Pharmacy Management System"}),e.jsx(u,{className:"sub-title",children:"Admin Registration"})]}),e.jsx("div",{className:"signup-center-card",children:e.jsxs(b,{className:"signup-card",children:[e.jsx(P,{onSubmit:r,loading:a.loading}),e.jsx("div",{className:"signup-actions",children:e.jsx(N,{type:"default",onClick:n,className:"cancel-button",size:"large",children:"Cancel"})})]})}),e.jsxs("div",{className:"signup-footer",children:["Developed by"," ",e.jsx("a",{style:{color:"white"},target:"_blank",rel:"noopener noreferrer",href:"https://github.com/GeekkyCoder",children:"Faraz"})]})]})},M=y(v(S));export{M as default};
