import{Z as S,$ as f,W as w,L as F,a1 as v,a3 as L,a9 as E,M as e,T as b,a4 as q,aa as o,F as I,y as x,a7 as _,a0 as C,U as k}from"./index-Dk2PLuz_.js";import{h as A}from"./moment-C5S46NFB.js";import{S as g}from"./index-By0mG6xB.js";const T=async(m,c,u)=>{var l;try{const d=await S.post("/employee/createEmployee",m),{data:{data:t},request:r}=d;return r.status!==201?!1:t?{data:t,message:(l=d==null?void 0:d.data)==null?void 0:l.message,responseCode:"00"}:!1}catch{return console.log("internal server error"),!1}},{Title:$}=b,{Option:h}=g,D=m=>{const c=F(t=>t.auth.user),u=v({E_Fname:E().required("First name is required"),E_Lname:E().required("Last name is required"),E_Password:E().required("Password is required"),E_Sex:E().required("Sex is required"),E_Phno:E().required("Phone is required").matches(/^03\d{9}$/,"Phone must start with 03 and be 11 digits"),E_date:L().required("Join date is required")}),l={labelCol:{span:24},wrapperCol:{span:24}},d=async(t,r)=>{m.setLoading(!0);const i={Admin_ID:c==null?void 0:c._id,...t},a=await T(i);a?(m.success(a==null?void 0:a.message),r()):m.error("Failed to create employee"),m.setLoading(!1)};return e.jsx("div",{style:{padding:"30px 50px"},children:e.jsxs("div",{style:{background:"#f1f1f1",padding:"30px 40px",borderRadius:"8px",maxWidth:1e3,margin:"0 auto"},children:[e.jsx($,{level:3,style:{textAlign:"center",background:"#e0e0e0",padding:"10px",color:"#0a3a66",textTransform:"uppercase",borderRadius:"4px"},children:"Add Employee Details"}),e.jsx(q,{initialValues:{E_Fname:"",E_Lname:"",E_Password:"",E_Sex:"",E_Phno:"",E_date:""},validationSchema:u,onSubmit:async(t,{resetForm:r,setSubmitting:i})=>{i(!0),await d(t,r),i(!1)},children:({handleSubmit:t,handleChange:r,handleBlur:i,values:a,touched:s,errors:n,setFieldValue:j,isSubmitting:y,dirty:P})=>e.jsxs(o,{layout:"vertical",onFinish:t,style:{marginTop:"30px"},children:[e.jsxs(I,{gutter:20,children:[e.jsx(x,{span:12,children:e.jsx(o.Item,{label:"First Name",validateStatus:s.E_Fname&&n.E_Fname?"error":"",help:s.E_Fname&&n.E_Fname,...l,children:e.jsx(_,{name:"E_Fname",value:a.E_Fname,onChange:r,onBlur:i})})}),e.jsx(x,{span:12,children:e.jsx(o.Item,{label:"Last Name",validateStatus:s.E_Lname&&n.E_Lname?"error":"",help:s.E_Lname&&n.E_Lname,...l,children:e.jsx(_,{name:"E_Lname",value:a.E_Lname,onChange:r,onBlur:i})})}),e.jsx(x,{span:12,children:e.jsx(o.Item,{label:"Password",validateStatus:s.E_Password&&n.E_Password?"error":"",help:s.E_Password&&n.E_Password,...l,children:e.jsx(_,{name:"E_Password",value:a.E_Password,onChange:r,onBlur:i})})}),e.jsx(x,{span:12,children:e.jsx(o.Item,{label:"Sex",validateStatus:s.E_Sex&&n.E_Sex?"error":"",help:s.E_Sex&&n.E_Sex,...l,children:e.jsxs(g,{name:"E_Sex",value:a.E_Sex,onChange:p=>j("E_Sex",p),onBlur:i,children:[e.jsx(h,{value:"Male",children:"Male"}),e.jsx(h,{value:"Female",children:"Female"}),e.jsx(h,{value:"Other",children:"Other"})]})})}),e.jsx(x,{span:12,children:e.jsx(o.Item,{label:"Phone",validateStatus:s.E_Phno&&n.E_Phno?"error":"",help:s.E_Phno&&n.E_Phno,...l,children:e.jsx(_,{name:"E_Phno",value:a.E_Phno,onChange:r,onBlur:i})})}),e.jsx(x,{span:12,children:e.jsx(o.Item,{label:"Join Date",validateStatus:s.E_date&&n.E_date?"error":"",help:s.E_date&&n.E_date,...l,children:e.jsx(C,{style:{width:"100%"},value:a.E_date?A(a.E_date):null,onChange:p=>j("E_date",p)})})})]}),e.jsx("div",{style:{textAlign:"center"},children:e.jsx(k,{type:"primary",disabled:!P||y,htmlType:"submit",style:{padding:"6px 30px",backgroundColor:"#0070a4"},children:y?"Loading...":"Add Employee"})})]})})]})})},B=f(w(D));export{B as default};
