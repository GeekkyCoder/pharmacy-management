import{W as j,V as y,U as p,a6 as w,ac as t,M as N,X as f,N as L,O as e,$ as b,a5 as S,a7 as k,ar as c,ae as g,as as d,at as m,Z as q,au as x}from"./index-CZBkQvc6.js";const{Title:u}=p,E=w().shape({email:t().email().required("Email is required"),password:t().required("Password is required"),role:t().required("Role is required")}),P=({onSubmit:s})=>e.jsx(S,{initialValues:{email:"",password:"",role:""},validationSchema:E,onSubmit:s,children:({handleChange:r,handleBlur:i,values:o,setFieldValue:h})=>e.jsxs(k,{children:[e.jsx(u,{level:3,className:"login-title",children:"Login"}),e.jsx(c,{name:"email",children:()=>e.jsx(g,{name:"email",type:"email",placeholder:"Email",onChange:r,onBlur:i,value:o.email,className:"login-input"})}),e.jsx(d,{name:"email",component:"div",className:"error"}),e.jsx(c,{name:"password",children:()=>e.jsx(g.Password,{name:"password",placeholder:"Password",onChange:r,onBlur:i,value:o.password,className:"login-input"})}),e.jsx(d,{name:"password",component:"div",className:"error"}),e.jsx(c,{name:"role",children:()=>e.jsxs("div",{style:{marginBottom:"16px",marginTop:"8px"},children:[e.jsx(p.Text,{style:{marginBottom:"8px",display:"block"},children:"Select Role:"}),e.jsxs(m.Group,{name:"role",value:o.role,onChange:n=>h("role",n.target.value),style:{width:"100%"},children:[e.jsx(m,{value:"admin",children:"Admin"}),e.jsx(m,{value:"employee",children:"Employee"})]})]})}),e.jsx(d,{name:"role",component:"div",className:"error"}),e.jsx(q,{type:"primary",htmlType:"submit",block:!0,className:"login-button",children:"Submit"})]})}),F=s=>{const r=N(),i=f(),{loading:o,error:h}=L(a=>a.auth),n=async a=>{console.log("Login values:",a),s.setLoading(!0);try{const l=await r(x({userEmail:a==null?void 0:a.email,userPassword:a==null?void 0:a.password,role:a==null?void 0:a.role}));x.fulfilled.match(l)?(s.success("Login successful!"),i("/")):s.error(l.payload||"Login failed")}catch{s.error("An unexpected error occurred")}finally{s.setLoading(!1)}};return e.jsxs("div",{className:"login-wrapper",children:[e.jsx("div",{className:"login-header",children:e.jsx(u,{className:"main-title",children:"Pharmacy Management System"})}),e.jsx("div",{className:"login-center-card",children:e.jsx(b,{className:"login-card",children:e.jsx(P,{onSubmit:n})})}),e.jsxs("div",{className:"login-footer",children:["Developed by"," ",e.jsx("a",{style:{color:"white"},target:"_blank",href:"https://github.com/GeekkyCoder",children:"Faraz"})," "]})]})},B=j(y(F));export{B as default};
