import{b as s,aP as k,U as x,al as y}from"./index-C7YdiJGM.js";function c(r){return!!(r!=null&&r.then)}const O=r=>{const{type:d,children:v,prefixCls:p,buttonProps:m,close:u,autoFocus:g,emitEvent:b,isSilent:i,quitOnNullishReturnValue:h,actionFn:o}=r,n=s.useRef(!1),f=s.useRef(null),[C,a]=k(!1),l=function(){u==null||u.apply(void 0,arguments)};s.useEffect(()=>{let t=null;return g&&(t=setTimeout(()=>{var e;(e=f.current)===null||e===void 0||e.focus({preventScroll:!0})})),()=>{t&&clearTimeout(t)}},[]);const P=t=>{c(t)&&(a(!0),t.then(function(){a(!1,!0),l.apply(void 0,arguments),n.current=!1},e=>{if(a(!1,!0),n.current=!1,!(i!=null&&i()))return Promise.reject(e)}))},R=t=>{if(n.current)return;if(n.current=!0,!o){l();return}let e;if(b){if(e=o(t),h&&!c(e)){n.current=!1,l(t);return}}else if(o.length)e=o(u),n.current=!1;else if(e=o(),!c(e)){l();return}P(e)};return s.createElement(x,Object.assign({},y(d),{onClick:R,loading:C,prefixCls:p},m,{ref:f}),v)};export{O as A};
