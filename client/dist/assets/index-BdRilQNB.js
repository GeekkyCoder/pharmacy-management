import{b as l,g as z,m as D,r as F,q as I,c as P,p as H,S as M,an as _,d as L}from"./index-CZBkQvc6.js";const U=t=>{const{value:n,formatter:o,precision:e,decimalSeparator:a,groupSeparator:i="",prefixCls:u}=t;let r;if(typeof o=="function")r=o(n);else{const c=String(n),m=c.match(/^(-?)(\d*)(\.(\d+))?$/);if(!m||c==="-")r=c;else{const p=m[1];let f=m[2]||"0",s=m[4]||"";f=f.replace(/\B(?=(\d{3})+(?!\d))/g,i),typeof e=="number"&&(s=s.padEnd(e,"0").slice(0,e>0?e:0)),s&&(s=`${a}${s}`),r=[l.createElement("span",{key:"int",className:`${u}-content-value-int`},p,f),s&&l.createElement("span",{key:"decimal",className:`${u}-content-value-decimal`},s)]}}return l.createElement("span",{className:`${u}-content-value`},r)},V=t=>{const{componentCls:n,marginXXS:o,padding:e,colorTextDescription:a,titleFontSize:i,colorTextHeading:u,contentFontSize:r,fontFamily:c}=t;return{[n]:Object.assign(Object.assign({},F(t)),{[`${n}-title`]:{marginBottom:o,color:a,fontSize:i},[`${n}-skeleton`]:{paddingTop:e},[`${n}-content`]:{color:u,fontSize:r,fontFamily:c,[`${n}-content-value`]:{display:"inline-block",direction:"ltr"},[`${n}-content-prefix, ${n}-content-suffix`]:{display:"inline-block"},[`${n}-content-prefix`]:{marginInlineEnd:o},[`${n}-content-suffix`]:{marginInlineStart:o}}})}},A=t=>{const{fontSizeHeading3:n,fontSize:o}=t;return{titleFontSize:o,contentFontSize:n}},B=z("Statistic",t=>{const n=D(t,{});return[V(n)]},A);var X=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(o[e[a]]=t[e[a]]);return o};const y=t=>{const{prefixCls:n,className:o,rootClassName:e,style:a,valueStyle:i,value:u=0,title:r,valueRender:c,prefix:m,suffix:p,loading:f=!1,formatter:s,precision:g,decimalSeparator:v=".",groupSeparator:x=",",onMouseEnter:b,onMouseLeave:O}=t,E=X(t,["prefixCls","className","rootClassName","style","valueStyle","value","title","valueRender","prefix","suffix","loading","formatter","precision","decimalSeparator","groupSeparator","onMouseEnter","onMouseLeave"]),{getPrefixCls:$,direction:C,className:N,style:w}=I("statistic"),d=$("statistic",n),[h,j,T]=B(d),S=l.createElement(U,{decimalSeparator:v,groupSeparator:x,prefixCls:d,formatter:s,precision:g,value:u}),k=P(d,{[`${d}-rtl`]:C==="rtl"},N,o,e,j,T),R=H(E,{aria:!0,data:!0});return h(l.createElement("div",Object.assign({},R,{className:k,style:Object.assign(Object.assign({},w),a),onMouseEnter:b,onMouseLeave:O}),r&&l.createElement("div",{className:`${d}-title`},r),l.createElement(M,{paragraph:!1,loading:f,className:`${d}-skeleton`},l.createElement("div",{style:i,className:`${d}-content`},m&&l.createElement("span",{className:`${d}-content-prefix`},m),c?c(S):S,p&&l.createElement("span",{className:`${d}-content-suffix`},p)))))},q=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function Y(t,n){let o=t;const e=/\[[^\]]*]/g,a=(n.match(e)||[]).map(c=>c.slice(1,-1)),i=n.replace(e,"[]"),u=q.reduce((c,m)=>{let[p,f]=m;if(c.includes(p)){const s=Math.floor(o/f);return o-=s*f,c.replace(new RegExp(`${p}+`,"g"),g=>{const v=g.length;return s.toString().padStart(v,"0")})}return c},i);let r=0;return u.replace(e,()=>{const c=a[r];return r+=1,c})}function G(t,n){const{format:o=""}=n,e=new Date(t).getTime(),a=Date.now(),i=Math.max(e-a,0);return Y(i,o)}var J=function(t,n){var o={};for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,e=Object.getOwnPropertySymbols(t);a<e.length;a++)n.indexOf(e[a])<0&&Object.prototype.propertyIsEnumerable.call(t,e[a])&&(o[e[a]]=t[e[a]]);return o};const K=1e3/30;function Q(t){return new Date(t).getTime()}const W=t=>{const{value:n,format:o="HH:mm:ss",onChange:e,onFinish:a}=t,i=J(t,["value","format","onChange","onFinish"]),u=_(),r=l.useRef(null),c=()=>{a==null||a(),r.current&&(clearInterval(r.current),r.current=null)},m=()=>{const s=Q(n);s>=Date.now()&&(r.current=setInterval(()=>{u(),e==null||e(s-Date.now()),s<Date.now()&&c()},K))};l.useEffect(()=>(m(),()=>{r.current&&(clearInterval(r.current),r.current=null)}),[n]);const p=(s,g)=>G(s,Object.assign(Object.assign({},g),{format:o})),f=s=>L(s,{title:void 0});return l.createElement(y,Object.assign({},i,{value:n,valueRender:f,formatter:p}))},Z=l.memo(W);y.Countdown=Z;export{y as S};
